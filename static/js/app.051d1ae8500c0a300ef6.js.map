{"version":3,"sources":["webpack:///src/App.vue","webpack:///./src/App.vue?62d0","webpack:///./src/App.vue","webpack:///src/components/BookStore.vue","webpack:///./src/components/BookStore.vue?2265","webpack:///./src/components/BookStore.vue","webpack:///src/components/TitleBar.vue","webpack:///./src/components/TitleBar.vue?3bdb","webpack:///./src/components/TitleBar.vue","webpack:///src/components/Content.vue","webpack:///./src/components/Content.vue?5a99","webpack:///./src/components/Content.vue","webpack:///src/components/MenuBar.vue","webpack:///./src/components/MenuBar.vue?0b1f","webpack:///./src/components/MenuBar.vue","webpack:///src/Ebook.vue","webpack:///./src/Ebook.vue?905e","webpack:///./src/Ebook.vue","webpack:///./src/router/index.js","webpack:///./src/main.js"],"names":["document","addEventListener","html","querySelector","fontSize","window","innerWidth","style","selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","name","ssrContext","BookStore","props","data","bookKey","books","created","setBooks","methods","getBookMeta","value","key","_this","book","Object","src","restore","loaded","metadata","then","meta","cover","archive","createUrl","url","push","_this2","store","iterate","iterationNumber","console","log","inputNewEpub","e","_this3","target","files","length","file","reader","FileReader","readAsArrayBuffer","substr","indexOf","$refs","inputFile","onload","result","keys","bookData","readProgress","setItem","addBook","event","click","clearBooks","clear","toggleStore","$emit","open","_this4","getItem","components_BookStore","_vm","staticClass","on","_v","_l","item","index","$event","_s","title","ref","staticStyle","display","type","change","TitleBar","components","BookStore_normalizeComponent","showBookStore","isFullScreen","ifTitleAndMenuShow","Boolean","default","mounted","onkeydown","navigator","userAgent","toLowerCase","body","scrollHeight","screen","height","scrollWidth","width","outerHeight","outerWidth","screenfull_default","a","isFullscreen","openNewEpub","toggleFullScreen","enabled","$message","message","toggle","components_TitleBar","directives","rawName","expression","class","src_components_TitleBar","TitleBar_normalizeComponent","Content","ifShowConten","navigation","bookAvailable","jumpTo","components_Content","href","label","MenuBar","ContentView","Content_normalizeComponent","fontSizeList","Array","defaultFontSize","Number","themeList","defaultTheme","bookProgress","ifSettingShow","showTag","progress","ifShowContent","watch","returnISCT","showNav","hideContent","onProgressChange","setTheme","setFontSize","showSetting","tag","hideSetting","components_MenuBar","hide-box-shadow","no-border","background","selected","backgroundSize","max","min","step","disabled","domProps","__r","_e","Ebook","MenuBar_normalizeComponent","color","bookSrc","showProgress","currentLocation","rendition","locations","percentageFromCfi","start","cfi","Math","round","hideTitleAndMenu","menuBar","percentage","location","cfiFromPercentage","themes","select","registerTheme","forEach","theme","register","toggleTitleAndMenu","prevPage","prev","nextPage","next","box","getElementById","child","getElementsByClassName","removeChild","showEpub","_this5","renderTo","method","ready","generate","handleScroll","deltaY","selectortype_template_index_0_src_Ebook","src_Ebook","Ebook_normalizeComponent","Vue","use","Router","router","routes","path","redirect","component","vueAxios","axios","config","productionTip","localForage","createInstance","prototype","el","App","template"],"mappings":"4NAUAA,SAAAC,iBAAA,8BACA,IAAAC,EAAAF,SAAAG,cAAA,UACAC,EAAAC,OAAAC,WAAA,GACAF,IAAA,MAAAA,EACAF,EAAAK,MAAAH,WAAA,OCdA,IAGeI,GADEC,OAFjB,WAA0B,IAAaC,EAAbC,KAAaC,eAA0BC,EAAvCF,KAAuCG,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,OAAiBE,OAAOC,GAAA,SAAYH,EAAA,oBAE5GI,oBCCjB,IAuBeC,EAvBUC,EAAQ,OAcjCC,EFTAC,KAAA,OEWEb,GATF,EAVA,SAAAc,GACEH,EAAQ,SAaV,KAEA,MAUgC,qDCDhCI,GACAC,SAGAC,KAJA,WAKA,OACAC,QAAA,KACAC,WAGAC,QAAA,WACAjB,KAAAkB,YAEAC,SACAC,YADA,SACAC,EAAAC,GAAA,IAAAC,EAAAvB,KACAwB,EAAAC,OAAAC,EAAA,EAAAD,CAAAJ,GACAM,SAAA,IAEAH,EAAAI,OAAAC,SAAAC,KAAA,SAAAC,GACAA,EAAAT,MACAE,EAAAI,OAAAI,MAAAF,KAAA,SAAAE,GACA,MAAAA,EACAR,EAAAS,QAAAC,UAAAF,GAAAF,KAAA,SAAAK,GACAJ,EAAAC,MAAAG,EAEAZ,EAAAP,MAAAoB,KAAAL,MAGAA,EAAAC,MAAA,mBAEAT,EAAAP,MAAAoB,KAAAL,SAKAb,SAtBA,WAsBA,IAAAmB,EAAArC,KACAA,KAAAsC,MAAAC,QAAA,SAAAlB,EAAAC,EAAAkB,GAGAH,EAAAjB,YAAAC,QAAAC,KAEAmB,QAAAC,IAAA,aAEAC,aA9BA,SA8BAC,GAAA,IAAAC,EAAA7C,KAGA,GAFAyC,QAAAC,IAAA,SACAE,EAAAE,OAAAC,MACAC,OAAA,CAIA,IAAAC,EAAAL,EAAAE,OAAAC,MAAA,GACAG,EAAA,IAAAC,WAEA,GADAD,EAAAE,kBAAAH,GACA,SAAAA,EAAAvC,KAAA2C,OAAAJ,EAAAvC,KAAA4C,QAAA,MAGA,OAFAb,QAAAC,IAAAO,EAAAvC,KAAA,8BACAV,KAAAuD,MAAAC,UAAAnC,MAAA,IAIA6B,EAAAO,OAAA,WAEA,IAAApC,EAAA6B,EAAAQ,OACAb,EAAAP,MAAAqB,OAAA7B,KAAA,SAAA6B,GAEA,OAAAA,EAAAL,QAAAL,EAAAvC,MAAA,CACA,IAAAkD,GAAAvC,QAAAwC,aAAA,GACAhB,EAAAP,MAAAwB,QAAAb,EAAAvC,KAAAkD,GACAnB,QAAAC,IAAA,4CACAG,EAAAzB,YAAAwC,EAAAvC,MAAA4B,EAAAvC,WAEA+B,QAAAC,IAAA,kBAEAG,EAAAU,MAAAC,UAAAnC,MAAA,WAzBAoB,QAAAC,IAAA,sBA6BAqB,QA/DA,SA+DAC,GACAhE,KAAAuD,MAAAC,UAAAS,SAGAC,WAnEA,WAoEAlE,KAAAsC,MAAA6B,QACAnE,KAAAgB,SACAyB,QAAAC,IAAA1C,KAAAgB,QAEAoD,YAxEA,WAyEApE,KAAAqE,MAAA,gBAEAC,KA3EA,SA2EAvD,GAAA,IAAAwD,EAAAvE,KAEAA,KAAAsC,MAAAkC,QAAAzD,GAAAe,KAAA,SAAAT,GAEAkD,EAAAF,MAAA,cAAAhD,WACAS,KAAA9B,KAAAoE,gBCnHeK,GADE3E,OAFP,WAAgB,IAAA4E,EAAA1E,KAAaD,EAAA2E,EAAAzE,eAA0BC,EAAAwE,EAAAvE,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,cAAwBE,OAAOM,KAAA,iBAAsBR,EAAA,OAAYyE,YAAA,UAAoBzE,EAAA,OAAYyE,YAAA,kBAA4BzE,EAAA,OAAYyE,YAAA,oBAAAC,IAAoCX,MAAAS,EAAAN,eAAyBM,EAAAG,GAAA,KAAA3E,EAAA,OAAwByE,YAAA,wBAAAC,IAAwCX,MAAAS,EAAAR,gBAAwBQ,EAAAG,GAAA,KAAA3E,EAAA,OAA0ByE,YAAA,eAAyBD,EAAAI,GAAAJ,EAAA,eAAAK,EAAAC,GAA0C,OAAA9E,EAAA,OAAiBoB,IAAA0D,EAAAL,YAAA,cAAkCzE,EAAA,OAAYyE,YAAA,aAAAvE,OAAgCsB,IAAAqD,EAAA/C,OAAiB4C,IAAKX,MAAA,SAAAgB,GAAyB,OAAAP,EAAAJ,KAAAS,EAAAzD,SAA4BoD,EAAAG,GAAA,KAAA3E,EAAA,QAAyByE,YAAA,cAAwBD,EAAAG,GAAAH,EAAAQ,GAAAH,EAAAI,cAAiCT,EAAAG,GAAA,KAAA3E,EAAA,OAAwByE,YAAA,cAAwBzE,EAAA,QAAayE,YAAA,mBAAAC,IAAmCX,MAAAS,EAAAX,WAAqBW,EAAAG,GAAA,KAAA3E,EAAA,SAA0BkF,IAAA,YAAAC,aAA6BC,QAAA,QAAiBlF,OAAQmF,KAAA,QAAcX,IAAKY,OAAA,SAAAP,GAA0B,OAAAP,EAAA/B,aAAAsC,OAAkCP,EAAAG,GAAA,KAAA3E,EAAA,QAAyByE,YAAA,aAAuBD,EAAAG,GAAA,uBAEp/BvE,oBCChC,ICqCAmF,GACAC,YACA9E,UDvCyBJ,EAAQ,OAcjBmF,CACd/E,EACA6D,GAT6B,EAV/B,SAAoB9D,GAClBH,EAAQ,SAaS,kBAEU,MAUG,SCkBhCM,KAJA,WAKA,OACA8E,eAAA,EACAC,cAAA,IAGAhF,OACAiF,oBACAP,KAAAQ,QACAC,SAAA,IAGAC,QAhBA,WAgBA,IAAA1E,EAAAvB,KACAX,SAAA6G,UAAA,SAAAtD,GACAH,QAAAC,IAAAE,GACAlD,OAAAyG,UAAAC,UAAAC,cACA/C,QAAA,YACAjE,SAAAiH,KAAAC,eAAA7G,OAAA8G,OAAAC,QAAApH,SAAAiH,KAAAI,cAAAhH,OAAA8G,OAAAG,MACApF,EAAAsE,cAAA,EAEAtE,EAAAsE,cAAA,EAGAnG,OAAAkH,cAAAlH,OAAA8G,OAAAC,QAAA/G,OAAAmH,aAAAnH,OAAA8G,OAAAG,MACApF,EAAAsE,cAAA,EAEAtE,EAAAsE,cAAA,GAKQiB,EAAAC,EAARnC,GAAA,oBAEArD,EAAAsE,aAAAiB,EAAAC,EAAAC,gBAGA7F,SACA8F,YADA,SACA5F,GACArB,KAAAqE,MAAA,cAAAhD,IAGA+C,YALA,WAMApE,KAAA4F,eAAA5F,KAAA4F,eAGAsB,iBATA,WAUA,IAAAJ,EAAAC,EAAAI,QAKA,OAJAnH,KAAAoH,UACAC,QAAA,6BACA9B,KAAA,aAEA,EAEYuB,EAAAC,EAAZO,YC9FeC,GADEzH,OAFP,WAAgB,IAAA4E,EAAA1E,KAAaD,EAAA2E,EAAAzE,eAA0BC,EAAAwE,EAAAvE,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,OAAiByE,YAAA,cAAwBzE,EAAA,cAAmBE,OAAOM,KAAA,gBAAqBR,EAAA,OAAYsH,aAAa9G,KAAA,OAAA+G,QAAA,SAAApG,MAAAqD,EAAA,mBAAAgD,WAAA,uBAA4F/C,YAAA,kBAA8BzE,EAAA,OAAYyE,YAAA,SAAmBzE,EAAA,QAAayE,YAAA,kBAAAC,IAAkCX,MAAAS,EAAAN,iBAAyBM,EAAAG,GAAA,KAAA3E,EAAA,OAA0ByE,YAAA,UAAoBzE,EAAA,OAAYyE,YAAA,iBAA2BzE,EAAA,QAAayE,YAAA,qBAA6BD,EAAAG,GAAA,KAAA3E,EAAA,OAA0ByE,YAAA,iBAA2BzE,EAAA,QAAayE,YAAA,uBAA+BD,EAAAG,GAAA,KAAA3E,EAAA,OAA0ByE,YAAA,iBAA2BzE,EAAA,QAAayE,YAAA,qBAA6BD,EAAAG,GAAA,KAAA3E,EAAA,OAA0ByE,YAAA,iBAA2BzE,EAAA,QAAayE,YAAA,OAAAgD,OAAAjD,EAAAmB,aAAA,8BAAAjB,IAA6EX,MAAAS,EAAAwC,4BAA8BxC,EAAAG,GAAA,KAAA3E,EAAA,cAAuCsH,aAAa9G,KAAA,OAAA+G,QAAA,SAAApG,MAAAqD,EAAA,cAAAgD,WAAA,kBAAkF9C,IAAMqC,YAAAvC,EAAAuC,YAAA7C,YAAAM,EAAAN,gBAA6D,IAEhkC9D,oBCChC,IAuBesH,EAvBUpH,EAAQ,OAcjBqH,CACdpC,EACA8B,GAT6B,EAV/B,SAAoB5G,GAClBH,EAAQ,SAaS,kBAEU,MAUG,QCZhCsH,GACAjH,OACAkH,aAAAhC,QACAiC,WAAAvG,OACAwG,cAAAlC,SAEA5E,SACA+G,OADA,SACApF,GACA9C,KAAAqE,MAAA,SAAAvB,MCnBeqF,GADErI,OAFP,WAAgB,IAAA4E,EAAA1E,KAAaD,EAAA2E,EAAAzE,eAA0BC,EAAAwE,EAAAvE,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,cAAwBE,OAAOM,KAAA,iBAAsBR,EAAA,OAAYyE,YAAA,YAAsBD,EAAA,cAAAxE,EAAA,OAAgCyE,YAAA,kBAAAvE,OAAqCC,GAAA,cAAkBqE,EAAAI,GAAAJ,EAAAsD,WAAA,aAAAjD,EAAAC,GAAkD,OAAA9E,EAAA,OAAiBoB,IAAA0D,EAAAL,YAAA,eAAAC,IAAyCX,MAAA,SAAAgB,GAAyB,OAAAP,EAAAwD,OAAAnD,EAAAqD,UAA+BlI,EAAA,QAAayE,YAAA,SAAmBD,EAAAG,GAAAH,EAAAQ,GAAAH,EAAAsD,cAAiC,GAAAnI,EAAA,OAAeyE,YAAA,UAAoBD,EAAAG,GAAA,iBAE/evE,oBCChC,ICmEAgI,GAEA5C,YACA6C,YDtEyB/H,EAAQ,OAcjBgI,CACdV,EACAK,GAT6B,EAV/B,SAAoBxH,GAClBH,EAAQ,SAaS,kBAEU,MAUG,SCiDhCK,OACAiF,oBACAP,KAAAQ,QACAC,SAAA,GAEAyC,aAAAC,MACAC,gBAAAC,OACAC,UAAAH,MACAI,aAAAF,OACAX,eACA1C,KAAAQ,QACAC,SAAA,GAEAgC,WAAAvG,OACAsH,aAAAH,QAEA9H,KArBA,WAsBA,OACAkI,eAAA,EACAC,QAAA,EACAC,SAAA,EACAC,eAAA,IAGAC,OAEAL,aAAA,WACA/I,KAAAkJ,SAAAlJ,KAAA+I,eAGA5H,SAEAkI,WAFA,WAGA,OAAArJ,KAAAmJ,eAEAG,QALA,WAMAtJ,KAAAmJ,eAAAnJ,KAAAmJ,cACAnJ,KAAAgJ,eAAA,GAGAO,YAVA,WAWAvJ,KAAAmJ,eAAA,GAGAjB,OAdA,SAcApF,GACA9C,KAAAqE,MAAA,SAAAvB,IAGA0G,iBAlBA,SAkBAN,GACAlJ,KAAAqE,MAAA,mBAAA6E,IAEAO,SArBA,SAqBAzE,GACAhF,KAAAqE,MAAA,WAAAW,IAEA0E,YAxBA,SAwBAjK,GACAO,KAAAqE,MAAA,cAAA5E,IAEAkK,YA3BA,SA2BAC,GACA5J,KAAAiJ,UAAAW,EACA5J,KAAAgJ,eAAAhJ,KAAAgJ,eAEAhJ,KAAAgJ,eAAA,EACAhJ,KAAAiJ,QAAAW,IAGAC,YAnCA,WAoCA7J,KAAAgJ,eAAA,KC1Iec,GADEhK,OAFP,WAAgB,IAAA4E,EAAA1E,KAAaD,EAAA2E,EAAAzE,eAA0BC,EAAAwE,EAAAvE,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,OAAiByE,YAAA,aAAuBzE,EAAA,cAAmBE,OAAOM,KAAA,cAAmBR,EAAA,OAAYsH,aAAa9G,KAAA,OAAA+G,QAAA,SAAApG,MAAAqD,EAAA,mBAAAgD,WAAA,uBAA4F/C,YAAA,eAAAgD,OAAoCoC,kBAAArF,EAAAsE,gBAAAtE,EAAAoB,sBAAgE5F,EAAA,OAAYyE,YAAA,iBAA2BzE,EAAA,QAAayE,YAAA,iBAAAC,IAAiCX,MAAA,SAAAgB,GAAyB,OAAAP,EAAA4E,gBAAuB5E,EAAAG,GAAA,KAAA3E,EAAA,OAA0ByE,YAAA,iBAA2BzE,EAAA,QAAayE,YAAA,qBAAAC,IAAqCX,MAAA,SAAAgB,GAAyB,OAAAP,EAAAiF,YAAA,SAA4BjF,EAAAG,GAAA,KAAA3E,EAAA,OAA0ByE,YAAA,iBAA2BzE,EAAA,QAAayE,YAAA,mBAAAC,IAAmCX,MAAA,SAAAgB,GAAyB,OAAAP,EAAAiF,YAAA,SAA4BjF,EAAAG,GAAA,KAAA3E,EAAA,OAA0ByE,YAAA,iBAA2BzE,EAAA,QAAayE,YAAA,cAAAC,IAA8BX,MAAA,SAAAgB,GAAyB,OAAAP,EAAAiF,YAAA,OAA4BjF,EAAAG,GAAA,aAAAH,EAAAG,GAAA,KAAA3E,EAAA,cAAmDE,OAAOM,KAAA,cAAmBR,EAAA,OAAYsH,aAAa9G,KAAA,OAAA+G,QAAA,SAAApG,MAAAqD,EAAA,cAAAgD,WAAA,mBAAoF/C,YAAA,oBAAgC,IAAAD,EAAAuE,QAAA/I,EAAA,OAAgCyE,YAAA,sBAAgCzE,EAAA,OAAYyE,YAAA,UAAA/E,OAA8BH,SAAAiF,EAAA+D,aAAA,GAAAhJ,SAAA,QAAgDiF,EAAAG,GAAA,OAAAH,EAAAG,GAAA,KAAA3E,EAAA,OAAsCyE,YAAA,UAAqBD,EAAAI,GAAAJ,EAAA,sBAAAK,EAAAC,GAAgD,OAAA9E,EAAA,OAAiBoB,IAAA0D,EAAAL,YAAA,iBAAAC,IAA2CX,MAAA,SAAAgB,GAAyB,OAAAP,EAAAgF,YAAA3E,EAAAtF,cAAwCS,EAAA,OAAYyE,YAAA,SAAmBD,EAAAG,GAAA,KAAA3E,EAAA,OAAwByE,YAAA,kBAA4BzE,EAAA,OAAYsH,aAAa9G,KAAA,OAAA+G,QAAA,SAAApG,MAAAqD,EAAAiE,kBAAA5D,EAAAtF,SAAAiI,WAAA,sCAA0H/C,YAAA,UAAsBzE,EAAA,OAAYyE,YAAA,oBAA0BD,EAAAG,GAAA,KAAA3E,EAAA,OAA4ByE,YAAA,aAAuB,GAAAD,EAAAG,GAAA,KAAA3E,EAAA,OAA2ByE,YAAA,UAAA/E,OAA8BH,SAAAiF,EAAA+D,aAAA/D,EAAA+D,aAAAzF,OAAA,GAAAvD,SAAA,QAA0EiF,EAAAG,GAAA,aAAAH,EAAAuE,QAAA/I,EAAA,OAAgDyE,YAAA,iBAA4BD,EAAAI,GAAAJ,EAAA,mBAAAK,EAAAC,GAA6C,OAAA9E,EAAA,OAAiBoB,IAAA0D,EAAAL,YAAA,qBAAAC,IAA+CX,MAAA,SAAAgB,GAAyB,OAAAP,EAAA+E,SAAAzE,OAA6B9E,EAAA,OAAYyE,YAAA,UAAAgD,OAA6BqC,YAAA,SAAAjF,EAAAnF,MAAA0G,KAAA2D,YAAmDrK,OAASqK,WAAAlF,EAAAnF,MAAA0G,KAAA2D,cAAyCvF,EAAAG,GAAA,KAAA3E,EAAA,OAAwByE,YAAA,OAAAgD,OAA0BuC,SAAAlF,IAAAN,EAAAoE,gBAAuCpE,EAAAG,GAAAH,EAAAQ,GAAAH,EAAArE,aAAgC,OAAAgE,EAAAuE,QAAA/I,EAAA,OAAmCyE,YAAA,qBAA+BzE,EAAA,OAAYyE,YAAA,qBAA+BzE,EAAA,SAAcsH,aAAa9G,KAAA,QAAA+G,QAAA,UAAApG,MAAAqD,EAAA,SAAAgD,WAAA,aAA0EtC,IAAA,WAAAT,YAAA,WAAA/E,OAAgDuK,eAAAzF,EAAAwE,SAAA,UAAwC9I,OAASmF,KAAA,QAAA6E,IAAA,MAAAC,IAAA,IAAAC,KAAA,IAAAC,UAAA7F,EAAAuD,eAA8EuC,UAAWnJ,MAAAqD,EAAA,UAAuBE,IAAKY,OAAA,SAAAP,GAA0B,OAAAP,EAAA8E,iBAAAvE,EAAAnC,OAAAzB,QAAiDoJ,IAAA,SAAAxF,GAAwBP,EAAAwE,SAAAjE,EAAAnC,OAAAzB,YAAmCqD,EAAAG,GAAA,KAAA3E,EAAA,OAA0ByE,YAAA,iBAA2BzE,EAAA,QAAAwE,EAAAG,GAAAH,EAAAQ,GAAAR,EAAAuD,cAAAvD,EAAAwE,SAAA,kBAAAxE,EAAAgG,SAAAhG,EAAAG,GAAA,KAAA3E,EAAA,gBAA6HsH,aAAa9G,KAAA,OAAA+G,QAAA,SAAApG,MAAAqD,EAAA,cAAAgD,WAAA,kBAAkFtH,OAAS+I,cAAAzE,EAAAyE,cAAAnB,WAAAtD,EAAAsD,WAAAC,cAAAvD,EAAAuD,eAAgGrD,IAAKsD,OAAAxD,EAAAwD,UAAqBxD,EAAAG,GAAA,KAAA3E,EAAA,cAA+BE,OAAOM,KAAA,UAAeR,EAAA,OAAYsH,aAAa9G,KAAA,OAAA+G,QAAA,SAAApG,MAAAqD,EAAA,cAAAgD,WAAA,kBAAkF/C,YAAA,eAAAC,IAAiCX,MAAAS,EAAA6E,kBAAyB,IAE7nHjJ,oBCChC,ICwBAqK,GACAjF,YACAD,SAAAmC,EACAU,QD3ByB9H,EAAQ,OAcjBoK,CACdtC,EACAwB,GAT6B,EAV/B,SAAoBnJ,GAClBH,EAAQ,SAaS,kBAEU,MAUG,SCMhCM,KALA,WAMA,OACAgF,oBAAA,EACA2C,eACAhJ,SAAA,KAGAA,SAAA,KAGAA,SAAA,KAGAA,SAAA,KAGAA,SAAA,KAGAA,SAAA,KAGAA,SAAA,KAGAkJ,gBAAA,GACAE,YACAnI,KAAA,UACAd,OACA0G,MACAuE,MAAA,OACAZ,WAAA,WAKAvJ,KAAA,MACAd,OACA0G,MACAuE,MAAA,OACAZ,WAAA,cAKAvJ,KAAA,QACAd,OACA0G,MACAuE,MAAA,OACAZ,WAAA,WAKAvJ,KAAA,OACAd,OACA0G,MACAuE,MAAA,OACAZ,WAAA,0BAKAnB,aAAA,EACAb,eAAA,EACAD,cACAe,aAAA,EACA+B,QA1EA,uBA6EA3J,SACA4J,aADA,WAEA,IAAAC,EAAAhL,KAAAiL,UAAAD,kBACAhL,KAAA+I,aAAA/I,KAAAiI,cAAAjI,KAAAkL,UAAAC,kBAAAH,EAAAI,MAAAC,KAAA,EACArL,KAAA+I,aAAAuC,KAAAC,MAAA,IAAAvL,KAAA+I,eAGAb,OAPA,SAOAE,GAAA,IAAA7G,EAAAvB,KACAA,KAAAiL,UAAA3F,QAAA8C,GAAAtG,KACA,WACAP,EAAAwJ,iBAGA/K,KAAAwL,oBAEAA,iBAfA,WAgBAxL,KAAA8F,oBAAA,EACA9F,KAAAuD,MAAAkI,QAAA5B,cACA7J,KAAAuD,MAAAkI,QAAAlC,eAEAC,iBApBA,SAoBAN,GACA,IAAAwC,EAAAxC,EAAA,IACAyC,EAAAD,EAAA,EAAA1L,KAAAkL,UAAAU,kBAAAF,GAAA,EACA1L,KAAAiL,UAAA3F,QAAAqG,IAEAlC,SAzBA,SAyBAzE,GACAhF,KAAA6L,OAAAC,OAAA9L,KAAA6I,UAAA7D,GAAAtE,MACAV,KAAA8I,aAAA9D,GAEA+G,cA7BA,WA6BA,IAAA1J,EAAArC,KACAA,KAAA6I,UAAAmD,QAAA,SAAAC,GACA5J,EAAAwJ,OAAAK,SAAAD,EAAAvL,KAAAuL,EAAArM,UAGA8J,YAlCA,SAkCAjK,GACAO,KAAA2I,gBAAAlJ,EACAO,KAAA6L,QACA7L,KAAA6L,OAAApM,WAAA,OAGA0M,mBAxCA,WAyCAnM,KAAA8F,oBAAA9F,KAAA8F,mBACA9F,KAAA8F,oBACA9F,KAAAuD,MAAAkI,QAAA5B,eAGAuC,SA9CA,WA8CA,IAAAvJ,EAAA7C,KACAA,KAAAiL,WACAjL,KAAAiL,UAAAoB,OAAAvK,KACA,WACAe,EAAAkI,kBAMAuB,SAxDA,WAwDA,IAAA/H,EAAAvE,KACAA,KAAAiL,WACAjL,KAAAiL,UAAAsB,OAAAzK,KACA,WACAyC,EAAAwG,kBAKA9D,YAjEA,SAiEA6D,GACA,IAAA0B,EAAAnN,SAAAoN,eAAA,QACAC,EAAArN,SAAAsN,uBAAA,kBACAD,EAAA,IACAF,EAAAI,YAAAF,EAAA,IAGA1M,KAAA6M,SAAA/B,IAGA+B,SA3EA,SA2EA/B,GAAA,IAAAgC,EAAA9M,KAEAA,KAAAwB,KAAA,IAAAE,EAAA,EAAAoJ,GACAnJ,SAAA,IAEAc,QAAAC,IAAA1C,KAAAwB,MACAxB,KAAAiL,UAAAjL,KAAAwB,KAAAuL,SAAA,QACApG,MAAA,QACAF,OAAA,QAEAuG,OAAA,YAGAhN,KAAAiL,UAAA3F,UAEAtF,KAAA6L,OAAA7L,KAAAiL,UAAAY,OAEA7L,KAAA0J,YAAA1J,KAAA2I,iBAEA3I,KAAA+L,gBAEA/L,KAAAyJ,SAAAzJ,KAAA8I,cAEA9I,KAAAwB,KAAAyL,MAAAnL,KAAA,WAGA,OAFAgL,EAAA9E,WAAA8E,EAAAtL,KAAAwG,WAEA8E,EAAAtL,KAAA0J,UAAAgC,aACApL,KAAA,SAAA4B,GAEAoJ,EAAA5B,UAAA4B,EAAAtL,KAAA0J,UAEA4B,EAAA7E,eAAA,KAIAkF,aA9GA,SA8GAvK,IAEA5C,KAAAuD,MAAAkI,QAAApC,cAAArJ,KAAAiI,gBACArF,EAAAwK,OAAA,EAAApN,KAAAsM,WAAAtM,KAAAoM,cAKAnG,QAjMA,WAkMAjG,KAAAiH,YAAAjH,KAAA8K,SAIApL,OAAAJ,iBAAA,aAAAU,KAAAmN,cAAA,GAEAzN,OAAAJ,iBAAA,iBAAAU,KAAAmN,cAAA,KChOeE,GADEvN,OAFP,WAAgB,IAAA4E,EAAA1E,KAAaD,EAAA2E,EAAAzE,eAA0BC,EAAAwE,EAAAvE,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,OAAiByE,YAAA,UAAoBzE,EAAA,aAAkBE,OAAO0F,mBAAApB,EAAAoB,oBAA4ClB,IAAKqC,YAAAvC,EAAAuC,eAA+BvC,EAAAG,GAAA,KAAA3E,EAAA,OAAwByE,YAAA,iBAA2BzE,EAAA,OAAYE,OAAOC,GAAA,UAAaqE,EAAAG,GAAA,KAAA3E,EAAA,OAAwByE,YAAA,SAAmBzE,EAAA,OAAYyE,YAAA,OAAAC,IAAuBX,MAAAS,EAAA0H,YAAsB1H,EAAAG,GAAA,KAAA3E,EAAA,OAAwByE,YAAA,SAAAC,IAAyBX,MAAAS,EAAAyH,sBAAgCzH,EAAAG,GAAA,KAAA3E,EAAA,OAAwByE,YAAA,QAAAC,IAAwBX,MAAAS,EAAA4H,gBAAsB5H,EAAAG,GAAA,KAAA3E,EAAA,YAAiCkF,IAAA,UAAAhF,OAAqB0F,mBAAApB,EAAAoB,mBAAA2C,aAAA/D,EAAA+D,aAAAE,gBAAAjE,EAAAiE,gBAAAE,UAAAnE,EAAAmE,UAAAC,aAAApE,EAAAoE,aAAAb,cAAAvD,EAAAuD,cAAAD,WAAAtD,EAAAsD,WAAAe,aAAArE,EAAAqE,cAA0QnE,IAAK8E,YAAAhF,EAAAgF,YAAAD,SAAA/E,EAAA+E,SAAAD,iBAAA9E,EAAA8E,iBAAAtB,OAAAxD,EAAAwD,WAAmH,IAE78B5H,oBCChC,IAuBegN,EAvBU9M,EAAQ,OAcjB+M,CACd5C,EACA0C,GAT6B,EAV/B,SAAoB1M,GAClBH,EAAQ,SAaS,kBAEU,MAUG,QCtBhCgN,IAAIC,IAAIC,KAEO,IAAAC,EAAA,IAAID,KACfE,SACIC,KAAM,IACNC,SAAU,WAGVD,KAAM,SACNE,UAAWpD,yFCDnB6C,IAAIC,IAAIO,IAAUC,KAClBT,IAAIU,OAAOC,eAAgB,EAG3B,IAAM7L,EAAQ8L,IAAYC,gBACtB3N,KAAM,WAGV8M,IAAIc,UAAUhM,MAAQA,EAGtB,IAAIkL,KACAe,GAAI,OACJZ,SACAjI,YAAc8I,OACdC,SAAU","file":"static/js/app.051d1ae8500c0a300ef6.js","sourcesContent":["<template>\n    <div id=\"app\">\n        <router-view/>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: 'App',\n}\ndocument.addEventListener('DOMContentLoaded', () => {\n    const html = document.querySelector(' html ')\n    let fontSize = window.innerWidth / 10\n    fontSize = fontSize > 50 ? 50 : fontSize\n    html.style.fontSize = fontSize + 'px'\n})\n</script>\n\n<style>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4c412472\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4c412472\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4c412472\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\r\n<transition name=\"slide-right\">\r\n    <div class=\"store\">\r\n        <div class=\"title-wrapper\">\r\n            <div class=\"icon-history icon\" @click=\"toggleStore\"></div>\r\n            <div class=\"icon-floppy-disk icon\" @click=\"clearBooks\"></div>\r\n        </div>\r\n        <div class=\"book-store\">\r\n            <div class=\"book-item\" v-for=\"(item,index) in books\" :key=\"index\">\r\n                <img v-bind:src=\"item.cover\" class=\"book-cover\" @click=\"open(item.key)\">\r\n                <span class=\"book-name\">{{item.title}}</span>\r\n            </div>\r\n            <div class=\"book-item\">\r\n                <span @click=\"addBook\" class=\"icon-folder-plus\"  ></span>\r\n                <input  type=\"file\" ref=\"inputFile\" style=\"display:none\" @change=\"inputNewEpub($event)\">\r\n                <span class=\"add-book\">点击添加图书</span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</transition>\r\n</template>\r\n\r\n<script>\r\nimport ePub from 'epubjs'\r\n\r\nexport default {\r\n    props: {\r\n        // books: Array\r\n    },\r\n    data() {\r\n        return {\r\n            bookKey: null,\r\n            books: []\r\n        }\r\n    },\r\n    created: function () {\r\n        this.setBooks()\r\n    },\r\n    methods: {\r\n        getBookMeta(value, key) {\r\n            let book = ePub(value, {\r\n                restore: true\r\n            })\r\n            book.loaded.metadata.then(meta => {\r\n                meta.key = key\r\n                book.loaded.cover.then(cover => {\r\n                    if (cover != null) {\r\n                        book.archive.createUrl(cover).then(url => {\r\n                            meta.cover = url\r\n                            // console.log(meta)\r\n                            this.books.push(meta)\r\n                        })\r\n                    } else {\r\n                        meta.cover = '/static/logo.png'\r\n                        // console.log(meta)\r\n                        this.books.push(meta)\r\n                    }\r\n                })\r\n            })\r\n        },\r\n        setBooks() {\r\n            this.store.iterate((value, key, iterationNumber) => {\r\n                // let book = ePub(value,{ restore: true})\r\n                // console.log(value)\r\n                this.getBookMeta(value.value, key)\r\n            })\r\n            console.log(\"set meta\")\r\n        },\r\n        inputNewEpub(e) {\r\n            console.log(\"begin\")\r\n            let files = e.target.files\r\n            if (!files.length) {\r\n                console.log('No file selected!')\r\n                return\r\n            }\r\n            let file = e.target.files[0]\r\n            let reader = new FileReader()\r\n            reader.readAsArrayBuffer(file)\r\n            if (file.name.substr(file.name.indexOf(\".\")) != '.epub') {\r\n                console.log(file.name + \" is not an epub file!\")\r\n                this.$refs.inputFile.value = ''\r\n                return\r\n            }\r\n\r\n            reader.onload = () => {\r\n                // console.log(\"load book\")\r\n                let value = reader.result\r\n                this.store.keys().then(keys => {\r\n                    // console.log(keys)\r\n                    if (keys.indexOf(file.name) == -1) {\r\n                        let bookData = {'value':value,readProgress:0}\r\n                        this.store.setItem(file.name, bookData)\r\n                        console.log(\"add a new book as ArryBuffer to database\")\r\n                        this.getBookMeta(bookData.value, file.name)\r\n                    } else {\r\n                        console.log(\"not a new book\")\r\n                    }\r\n                    this.$refs.inputFile.value = ''\r\n                })\r\n            }\r\n        },\r\n        addBook(event) {\r\n            this.$refs.inputFile.click()\r\n        },\r\n\r\n        clearBooks() {\r\n            this.store.clear()\r\n            this.books = []\r\n            console.log(this.books)\r\n        },\r\n        toggleStore() {\r\n            this.$emit('toggleStore')\r\n        },\r\n        open(bookKey) {\r\n            // console.log(bookKey)\r\n            this.store.getItem(bookKey).then(value => {\r\n                // console.log(value)\r\n                this.$emit('openNewEpub', value.value)\r\n            }).then(this.toggleStore)\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '../assets/styles/global';\r\n\r\n.store {\r\n    top: 0;\r\n    left: 0;\r\n    z-index: 102;\r\n    position: absolute;\r\n    // display: flex;\r\n    width: 100%;\r\n    height: 100%;\r\n    box-shadow: 0 px2rem(-8) px2rem(8) rgba(0, 0, 0, .15);\r\n    // flex-flow: column;\r\n\r\n    .title-wrapper {\r\n        display: flex;\r\n        justify-content: flex-end;\r\n        width: 100%;\r\n        height: 8%;\r\n        background: white;\r\n        justify-content: flex-end;\r\n\r\n        .icon {\r\n            @include center;\r\n            flex: 0 0 px2rem(60);\r\n        }\r\n    }\r\n\r\n    .book-store {\r\n        display: flex;\r\n        width: 100%;\r\n        height: 92%;\r\n        background: green;\r\n        flex-flow: wrap;\r\n        overflow: auto;\r\n        @include center;\r\n\r\n        .book-item {\r\n            display: flex;\r\n            flex-flow: column;\r\n            // position:absolute;\r\n            margin: px2rem(20) px2rem(20) px2rem(20) px2rem(20);\r\n            // border: px2rem(1) solid #ccc;\r\n            width: px2rem(150);\r\n            height: px2rem(250);\r\n            background: rgb(228, 224, 224);\r\n            @include center;\r\n\r\n            .book-cover {\r\n                width: 100%;\r\n                height: 90%;\r\n                // background: #ccc;\r\n            }\r\n\r\n            .book-name {\r\n                width: 100%;\r\n                height: 10%;\r\n                @include center;\r\n                font-size: px2rem(8);\r\n            }\r\n\r\n            .icon-folder-plus {\r\n                font-size: px2rem(70);\r\n                // flex: 0 0 px2rem(180);\r\n            }\r\n\r\n            .add-book {\r\n                font-size: px2rem(25);\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/BookStore.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"slide-right\"}},[_c('div',{staticClass:\"store\"},[_c('div',{staticClass:\"title-wrapper\"},[_c('div',{staticClass:\"icon-history icon\",on:{\"click\":_vm.toggleStore}}),_vm._v(\" \"),_c('div',{staticClass:\"icon-floppy-disk icon\",on:{\"click\":_vm.clearBooks}})]),_vm._v(\" \"),_c('div',{staticClass:\"book-store\"},[_vm._l((_vm.books),function(item,index){return _c('div',{key:index,staticClass:\"book-item\"},[_c('img',{staticClass:\"book-cover\",attrs:{\"src\":item.cover},on:{\"click\":function($event){return _vm.open(item.key)}}}),_vm._v(\" \"),_c('span',{staticClass:\"book-name\"},[_vm._v(_vm._s(item.title))])])}),_vm._v(\" \"),_c('div',{staticClass:\"book-item\"},[_c('span',{staticClass:\"icon-folder-plus\",on:{\"click\":_vm.addBook}}),_vm._v(\" \"),_c('input',{ref:\"inputFile\",staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\"},on:{\"change\":function($event){return _vm.inputNewEpub($event)}}}),_vm._v(\" \"),_c('span',{staticClass:\"add-book\"},[_vm._v(\"点击添加图书\")])])],2)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e1a0e328\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/BookStore.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e1a0e328\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./BookStore.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./BookStore.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./BookStore.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e1a0e328\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./BookStore.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-e1a0e328\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/BookStore.vue\n// module id = null\n// module chunks = ","<template>\r\n<div class=\"title-bar\">\r\n    <transition name=\"slide-down\">\r\n        <div class=\"title-wrapper\" v-show=\"ifTitleAndMenuShow\">\r\n            <div class=\"left\">\r\n                <span class=\"icon-books icon\" @click=\"toggleStore\"></span>\r\n            </div>\r\n            <div class=\"right\">\r\n                <!-- <div class=\"icon-wrapper\">\r\n                    <span @click=\"addBook\" class=\"icon-folder-plus icon\"  ></span>\r\n                    <input type=\"file\" ref=\"inputFile\" style=\"display:none\" @change=\"inputNewEpub($event)\">\r\n            </div> -->\r\n                    <div class=\"icon-wrapper\">\r\n                        <span class=\"icon-cart icon\"></span>\r\n                    </div>\r\n                    <div class=\"icon-wrapper\">\r\n                        <span class=\"icon-person icon\"></span>\r\n                    </div>\r\n                    <div class=\"icon-wrapper\">\r\n                        <span class=\"icon-more icon\">\r\n                </span>\r\n                    </div>\r\n                    <div class=\"icon-wrapper\">\r\n                        <span class=\"icon\" :class=\"[isFullScreen?'icon-shrink':'icon-enlarge']\"\r\n                     @click=\"toggleFullScreen\">\r\n                </span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n    </transition>\r\n    <book-store @openNewEpub=\"openNewEpub\"\r\n v-show=\"showBookStore\" @toggleStore=\"toggleStore\"></book-store>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport screenFull from 'screenfull'\r\nimport BookStore from '@/components/BookStore'\r\nimport ePub from 'epubjs'\r\n\r\nexport default {\r\n    components: {\r\n        BookStore\r\n    },\r\n    data() {\r\n        return {\r\n            showBookStore: true,\r\n            isFullScreen: false,\r\n        }\r\n    },\r\n    props: {\r\n        ifTitleAndMenuShow: {\r\n            type: Boolean,\r\n            default: false\r\n        }\r\n    },\r\n    mounted() {\r\n        document.onkeydown = (e) => {\r\n            console.log(e)\r\n            var explorer = window.navigator.userAgent.toLowerCase();\r\n            if (explorer.indexOf('chrome') > 0) { //webkit\r\n                if (document.body.scrollHeight === window.screen.height && document.body.scrollWidth === window.screen.width) {\r\n                    this.isFullScreen = true\r\n                } else {\r\n                    this.isFullScreen = false\r\n                }\r\n            } else { //IE 9+  fireFox\r\n                if (window.outerHeight === window.screen.height && window.outerWidth === window.screen.width) {\r\n                    this.isFullScreen = true\r\n                } else {\r\n                    this.isFullScreen = false\r\n                }\r\n            }\r\n            // console.log('Am I fullscreen?', this.isFullScreen ? 'Yes' : 'No');\r\n        }\r\n        screenFull.on('change', () => {\r\n            // console.log('Am I fullscreen?', screenFull.isFullscreen ? 'Yes' : 'No');\r\n            this.isFullScreen = screenFull.isFullscreen\r\n        });\r\n    },\r\n    methods: {\r\n        openNewEpub(value){\r\n            this.$emit('openNewEpub',value)\r\n        },\r\n        // 点击 显示/隐藏 书架\r\n        toggleStore() {\r\n            this.showBookStore = !this.showBookStore\r\n        },\r\n        // 点击切换全屏\r\n        toggleFullScreen() {\r\n            if (!screenFull.enabled) {\r\n                this.$message({\r\n                    message: 'Your browser does not work',\r\n                    type: 'warning'\r\n                })\r\n                return false\r\n            }\r\n            screenFull.toggle()\r\n        },\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"../assets/styles/global\";\r\n\r\n.title-bar {\r\n    .title-wrapper {\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        z-index: 101;\r\n        display: flex;\r\n        width: 100%;\r\n        height: px2rem(48);\r\n        background: red;\r\n        box-shadow: 0 px2rem(8) px2rem(8) rgba(0, 0, 0, 0.15);\r\n\r\n        .left {\r\n            flex: 0 0 px2rem(60);\r\n            @include center;\r\n        }\r\n\r\n        .right {\r\n            flex: 1;\r\n            display: flex;\r\n            justify-content: flex-end;\r\n\r\n            .icon-wrapper {\r\n                @include center;\r\n                flex: 0 0 px2rem(40);\r\n\r\n                .icon-cart {\r\n                    font-size: px2rem(20);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/TitleBar.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"title-bar\"},[_c('transition',{attrs:{\"name\":\"slide-down\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.ifTitleAndMenuShow),expression:\"ifTitleAndMenuShow\"}],staticClass:\"title-wrapper\"},[_c('div',{staticClass:\"left\"},[_c('span',{staticClass:\"icon-books icon\",on:{\"click\":_vm.toggleStore}})]),_vm._v(\" \"),_c('div',{staticClass:\"right\"},[_c('div',{staticClass:\"icon-wrapper\"},[_c('span',{staticClass:\"icon-cart icon\"})]),_vm._v(\" \"),_c('div',{staticClass:\"icon-wrapper\"},[_c('span',{staticClass:\"icon-person icon\"})]),_vm._v(\" \"),_c('div',{staticClass:\"icon-wrapper\"},[_c('span',{staticClass:\"icon-more icon\"})]),_vm._v(\" \"),_c('div',{staticClass:\"icon-wrapper\"},[_c('span',{staticClass:\"icon\",class:[_vm.isFullScreen?'icon-shrink':'icon-enlarge'],on:{\"click\":_vm.toggleFullScreen}})])])])]),_vm._v(\" \"),_c('book-store',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showBookStore),expression:\"showBookStore\"}],on:{\"openNewEpub\":_vm.openNewEpub,\"toggleStore\":_vm.toggleStore}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5ba4a77c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/TitleBar.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5ba4a77c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./TitleBar.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./TitleBar.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./TitleBar.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5ba4a77c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./TitleBar.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5ba4a77c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/TitleBar.vue\n// module id = null\n// module chunks = ","<template>\r\n<transition name=\"slide-right\">\r\n    <div class=\"content\">\r\n        <div class=\"content-wrapper\" v-if=\"bookAvailable\" id=\"scrollbar\">\r\n            <div class=\"content-item\" v-for=\"(item,index) in navigation.toc\" :key=\"index\" @click=\"jumpTo(item.href)\">\r\n                <span class=\"text\">{{item.label}}</span>\r\n            </div>\r\n        </div>\r\n        <div class=\"empty\" v-else>加载中...</div>\r\n    </div>\r\n</transition>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    props: {\r\n        ifShowConten: Boolean,\r\n        navigation: Object,\r\n        bookAvailable: Boolean\r\n    },\r\n    methods: {\r\n        jumpTo(target) {\r\n            this.$emit('jumpTo', target)\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '../assets/styles/global';\r\n\r\n.content {\r\n    position: absolute;\r\n    z-index: 102;\r\n    top: 0;\r\n    left: 0;\r\n    background: white;\r\n    width: 75%;\r\n    height: 100%;\r\n\r\n    .content-wrapper {\r\n        width: 100%;\r\n        height: 100%;\r\n        overflow: auto;\r\n\r\n        .content-item {\r\n            padding: px2rem(20) px2rem(15);\r\n            border-bottom: px2rem(1) solid red;\r\n\r\n            .text {\r\n                font-size: px2rem(16);\r\n                color: #333;\r\n            }\r\n        }\r\n    }\r\n\r\n    .empty {\r\n        width: 100%;\r\n        height: 100%;\r\n        @include center;\r\n        font-size: px2rem(16);\r\n        color: #333;\r\n    }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/Content.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"slide-right\"}},[_c('div',{staticClass:\"content\"},[(_vm.bookAvailable)?_c('div',{staticClass:\"content-wrapper\",attrs:{\"id\":\"scrollbar\"}},_vm._l((_vm.navigation.toc),function(item,index){return _c('div',{key:index,staticClass:\"content-item\",on:{\"click\":function($event){return _vm.jumpTo(item.href)}}},[_c('span',{staticClass:\"text\"},[_vm._v(_vm._s(item.label))])])}),0):_c('div',{staticClass:\"empty\"},[_vm._v(\"加载中...\")])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-23144600\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Content.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-23144600\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Content.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Content.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Content.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-23144600\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Content.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-23144600\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Content.vue\n// module id = null\n// module chunks = ","<template>\r\n<div class=\"menu-bar\">\r\n    <transition name=\"slide-up\">\r\n        <div class=\"menu-wrapper\" :class=\"{'hide-box-shadow':ifSettingShow || !ifTitleAndMenuShow}\" v-show=\"ifTitleAndMenuShow\">\r\n            <div class=\"icon-wrapper\">\r\n                <span class=\"icon-menu icon\" @click=\"showNav()\"></span>\r\n            </div>\r\n            <div class=\"icon-wrapper\">\r\n                <span class=\"icon-progress icon\" @click=\"showSetting(2)\"></span>\r\n            </div>\r\n            <div class=\"icon-wrapper\">\r\n                <span class=\"icon-bright icon\" @click=\"showSetting(1)\"></span>\r\n            </div>\r\n            <div class=\"icon-wrapper\">\r\n                <span class=\"icon-a icon\" @click=\"showSetting(0)\">A</span>\r\n            </div>\r\n        </div>\r\n    </transition>\r\n    <transition name=\"slide-up\">\r\n        <div class=\"setting-wrapper\" v-show=\" ifSettingShow\">\r\n            <div class=\"setting-font-size\" v-if=\"showTag === 0\">\r\n                <div class=\"preview\" :style=\"{fontSize: fontSizeList[0].fontSize + 'px'}\">A</div>\r\n                <div class=\"select\">\r\n                    <div class=\"select-wrapper\" v-for=\"(item,index) in fontSizeList\" :key=\"index\" @click=\"setFontSize(item.fontSize)\">\r\n                        <div class=\"line\"></div>\r\n                        <div class=\"point-wrapper\">\r\n                            <div class=\"point\" v-show=\"defaultFontSize === item.fontSize\">\r\n                                <div class=\"small-point\"></div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"line\"></div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"preview\" :style=\"{fontSize: fontSizeList[fontSizeList.length - 1].fontSize + 'px'}\">A</div>\r\n            </div>\r\n            <div class=\"setting-theme\" v-else-if=\"showTag === 1\">\r\n                <div class=\"setting-theme-item\" v-for=\"(item,index) in themeList\" :key=\"index\" @click=\"setTheme(index)\">\r\n                    <div class=\"preview\" :style=\"{background: item.style.body.background}\" :class=\"{'no-border': item.style.body.background !== '#fff'}\"></div>\r\n                    <div class=\"text\" :class=\"{'selected': index=== defaultTheme}\">{{item.name}}</div>\r\n                </div>\r\n            </div>\r\n            <div class=\"setting-progress\" v-else-if=\"showTag === 2\">\r\n                <div class=\"progress-wrapper\">\r\n                    <input type=\"range\" class=\"progress\"\r\n                        max=\"100\"\r\n                        min=\"0\"\r\n                        step=\"1\"\r\n                        @change=\"onProgressChange($event.target.value)\"\r\n                        v-model=\"progress\"\r\n                        :disabled=\"!bookAvailable\"\r\n                        :style=\"{backgroundSize: progress + '% 100%'}\"\r\n                        ref=\"progress\">\r\n                    </div>\r\n                    <div class=\"text-wrapper\">\r\n                        <span>{{bookAvailable? progress + \"%\" : '加载中'}}</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n    </transition>\r\n    <content-view :ifShowContent=\"ifShowContent\" v-show=\"ifShowContent\" :navigation=\"navigation\" :bookAvailable=\"bookAvailable\" @jumpTo=\"jumpTo\">\r\n    </content-view>\r\n    <transition name=\"fade\">\r\n        <div class=\"content-mask\" v-show=\"ifShowContent\" @click=\"hideContent\">\r\n        </div>\r\n    </transition>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport ContentView from '@/components/Content'\r\nexport default {\r\n    //对引入组件进行注册 \r\n    components: {\r\n        ContentView\r\n    },\r\n    props: {\r\n        ifTitleAndMenuShow: {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n        fontSizeList: Array,\r\n        defaultFontSize: Number,\r\n        themeList: Array,\r\n        defaultTheme: Number,\r\n        bookAvailable: {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n        navigation: Object,\r\n        bookProgress: Number\r\n    },\r\n    data() {\r\n        return {\r\n            ifSettingShow: false,\r\n            showTag: 0,\r\n            progress: 0,\r\n            ifShowContent: false\r\n        }\r\n    },\r\n    watch: {\r\n        // 监听bookProgress的改变，动态赋值给progress\r\n        bookProgress: function () {\r\n            this.progress = this.bookProgress\r\n        },\r\n    },\r\n    methods: {\r\n        // 提供目录是否展示信息给父组件\r\n        returnISCT() {\r\n            return this.ifShowContent\r\n        },\r\n        showNav() {\r\n            this.ifShowContent = !this.ifShowContent,\r\n                this.ifSettingShow = false\r\n        },\r\n        //隐藏目录\r\n        hideContent() {\r\n            this.ifShowContent = false\r\n        },\r\n        // 调用父组件的跳转目录\r\n        jumpTo(target) {\r\n            this.$emit('jumpTo', target)\r\n        },\r\n        // 拖动进度条后松开触发事件，跳转到指定位置\r\n        onProgressChange(progress) {\r\n            this.$emit('onProgressChange', progress)\r\n        },\r\n        setTheme(index) {\r\n            this.$emit('setTheme', index)\r\n        },\r\n        setFontSize(fontSize) {\r\n            this.$emit('setFontSize', fontSize)\r\n        },\r\n        showSetting(tag) {\r\n            if (this.showTag === tag) {\r\n                this.ifSettingShow = !this.ifSettingShow\r\n            } else {\r\n                this.ifSettingShow = true,\r\n                    this.showTag = tag\r\n            }\r\n        },\r\n        hideSetting() {\r\n            this.ifSettingShow = false\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '../assets/styles/global';\r\n\r\n.menu-bar {\r\n\r\n    .menu-wrapper {\r\n        &.hide-box-shadow {\r\n            box-shadow: none\r\n        }\r\n\r\n        position: absolute;\r\n        bottom: 0;\r\n        left: 0;\r\n        z-index: 101;\r\n        display: flex;\r\n        width: 100%;\r\n        height: px2rem(48);\r\n        background: white;\r\n        box-shadow: 0 px2rem(-8) px2rem(8) rgba(0, 0, 0, .15);\r\n\r\n        .icon-wrapper {\r\n            flex: 1;\r\n            @include center;\r\n\r\n            .icon-progress {\r\n                font-size: px2rem(25);\r\n            }\r\n\r\n            .icon-bright {\r\n                font-size: px2rem(20);\r\n            }\r\n        }\r\n    }\r\n\r\n    .setting-wrapper {\r\n        position: absolute;\r\n        bottom: px2rem(48);\r\n        left: 0;\r\n        width: 100%;\r\n        height: px2rem(60);\r\n        z-index: 101;\r\n        background: white;\r\n        box-shadow: 0 px2rem(-8) px2rem(8) rgba(0, 0, 0, .15);\r\n\r\n        .setting-font-size {\r\n            display: flex;\r\n            height: 100%;\r\n\r\n            .preview {\r\n                flex: 0 0 px2rem(40);\r\n                @include center;\r\n\r\n            }\r\n\r\n            .select {\r\n                display: flex;\r\n                flex: 1;\r\n\r\n                .select-wrapper {\r\n                    flex: 1;\r\n                    display: flex;\r\n                    align-items: center;\r\n\r\n                    &:first-child {\r\n                        .line {\r\n                            &:first-child {\r\n                                border-top: none;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    &:last-child {\r\n                        .line {\r\n                            &:last-child {\r\n                                border-top: none;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    .line {\r\n                        flex: 1;\r\n                        height: 0;\r\n                        border-top: px2rem(1) solid #ccc;\r\n\r\n                    }\r\n\r\n                    .point-wrapper {\r\n                        position: relative;\r\n                        flex: 0 0 0;\r\n                        width: 0;\r\n                        height: px2rem(7);\r\n                        border-left: px2rem(1) solid #ccc;\r\n\r\n                        .point {\r\n                            position: absolute;\r\n                            top: px2rem(-8);\r\n                            left: px2rem(-10);\r\n                            width: px2rem(20);\r\n                            height: px2rem(20);\r\n                            border-radius: 50%;\r\n                            background: white;\r\n                            border: px2rem(1) solid #ccc;\r\n                            box-shadow: 0 px2rem(4) px2rem(4) rgba(0, 0, 0, .15);\r\n                            @include center;\r\n\r\n                            .small-point {\r\n                                width: px2rem(5);\r\n                                height: px2rem(5);\r\n                                border-radius: 50%;\r\n                                background: black;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        .setting-theme {\r\n            height: 100%;\r\n            display: flex;\r\n\r\n            .setting-theme-item {\r\n                flex: 1;\r\n                display: flex;\r\n                flex-direction: column;\r\n                padding: px2rem(5);\r\n                box-sizing: border-box;\r\n\r\n                .preview {\r\n                    flex: 1;\r\n                    border: px2rem(1) solid #ccc;\r\n                    box-sizing: border-box;\r\n\r\n                    &.no-border {\r\n                        border: none;\r\n                    }\r\n                }\r\n\r\n                .text {\r\n                    flex: 0 0 px2rem(20);\r\n                    font-size: px2rem(16);\r\n                    color: #ccc;\r\n                    @include center;\r\n\r\n                    &.selected {\r\n                        color: #333\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        .setting-progress {\r\n            position: relative;\r\n            width: 100%;\r\n            height: 100%;\r\n\r\n            .progress-wrapper {\r\n                height: 80%;\r\n                width: 100%;\r\n                padding: 0 px2rem(30);\r\n                box-sizing: border-box;\r\n                @include center;\r\n\r\n                .progress {\r\n                    width: 100%;\r\n                    -webkit-appearance: none;\r\n                    height: px2rem(2);\r\n                    border-radius: 10%;\r\n                    background: -webkit-linear-gradient(#999, #999) no-repeat, #ddd;\r\n                    background-size: 0 100%;\r\n\r\n                    &:focus {\r\n                        outline: none;\r\n                    }\r\n\r\n                    &::-webkit-slider-thumb {\r\n                        -webkit-appearance: none;\r\n                        width: px2rem(20);\r\n                        height: px2rem(20);\r\n                        border-radius: 50%;\r\n                        background: white;\r\n                        box-shadow: 0 px2rem(4) px2rem(4) 0 rgba(0, 0, 0, .15);\r\n                        border: px2rem(1) solid #ddd;\r\n                    }\r\n                }\r\n\r\n            }\r\n\r\n            .text-wrapper {\r\n                position: absolute;\r\n                bottom: px2rem(1);\r\n                width: 100%;\r\n                color: #666;\r\n                font-size: px2rem(12);\r\n                @include center;\r\n            }\r\n        }\r\n    }\r\n\r\n    .content-mask {\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        z-index: 101;\r\n        display: flex;\r\n        width: 100%;\r\n        height: 100%;\r\n        background: rgba(51, 51, 51, .8);\r\n    }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/MenuBar.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"menu-bar\"},[_c('transition',{attrs:{\"name\":\"slide-up\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.ifTitleAndMenuShow),expression:\"ifTitleAndMenuShow\"}],staticClass:\"menu-wrapper\",class:{'hide-box-shadow':_vm.ifSettingShow || !_vm.ifTitleAndMenuShow}},[_c('div',{staticClass:\"icon-wrapper\"},[_c('span',{staticClass:\"icon-menu icon\",on:{\"click\":function($event){return _vm.showNav()}}})]),_vm._v(\" \"),_c('div',{staticClass:\"icon-wrapper\"},[_c('span',{staticClass:\"icon-progress icon\",on:{\"click\":function($event){return _vm.showSetting(2)}}})]),_vm._v(\" \"),_c('div',{staticClass:\"icon-wrapper\"},[_c('span',{staticClass:\"icon-bright icon\",on:{\"click\":function($event){return _vm.showSetting(1)}}})]),_vm._v(\" \"),_c('div',{staticClass:\"icon-wrapper\"},[_c('span',{staticClass:\"icon-a icon\",on:{\"click\":function($event){return _vm.showSetting(0)}}},[_vm._v(\"A\")])])])]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"slide-up\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:( _vm.ifSettingShow),expression:\" ifSettingShow\"}],staticClass:\"setting-wrapper\"},[(_vm.showTag === 0)?_c('div',{staticClass:\"setting-font-size\"},[_c('div',{staticClass:\"preview\",style:({fontSize: _vm.fontSizeList[0].fontSize + 'px'})},[_vm._v(\"A\")]),_vm._v(\" \"),_c('div',{staticClass:\"select\"},_vm._l((_vm.fontSizeList),function(item,index){return _c('div',{key:index,staticClass:\"select-wrapper\",on:{\"click\":function($event){return _vm.setFontSize(item.fontSize)}}},[_c('div',{staticClass:\"line\"}),_vm._v(\" \"),_c('div',{staticClass:\"point-wrapper\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.defaultFontSize === item.fontSize),expression:\"defaultFontSize === item.fontSize\"}],staticClass:\"point\"},[_c('div',{staticClass:\"small-point\"})])]),_vm._v(\" \"),_c('div',{staticClass:\"line\"})])}),0),_vm._v(\" \"),_c('div',{staticClass:\"preview\",style:({fontSize: _vm.fontSizeList[_vm.fontSizeList.length - 1].fontSize + 'px'})},[_vm._v(\"A\")])]):(_vm.showTag === 1)?_c('div',{staticClass:\"setting-theme\"},_vm._l((_vm.themeList),function(item,index){return _c('div',{key:index,staticClass:\"setting-theme-item\",on:{\"click\":function($event){return _vm.setTheme(index)}}},[_c('div',{staticClass:\"preview\",class:{'no-border': item.style.body.background !== '#fff'},style:({background: item.style.body.background})}),_vm._v(\" \"),_c('div',{staticClass:\"text\",class:{'selected': index=== _vm.defaultTheme}},[_vm._v(_vm._s(item.name))])])}),0):(_vm.showTag === 2)?_c('div',{staticClass:\"setting-progress\"},[_c('div',{staticClass:\"progress-wrapper\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.progress),expression:\"progress\"}],ref:\"progress\",staticClass:\"progress\",style:({backgroundSize: _vm.progress + '% 100%'}),attrs:{\"type\":\"range\",\"max\":\"100\",\"min\":\"0\",\"step\":\"1\",\"disabled\":!_vm.bookAvailable},domProps:{\"value\":(_vm.progress)},on:{\"change\":function($event){return _vm.onProgressChange($event.target.value)},\"__r\":function($event){_vm.progress=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"text-wrapper\"},[_c('span',[_vm._v(_vm._s(_vm.bookAvailable? _vm.progress + \"%\" : '加载中'))])])]):_vm._e()])]),_vm._v(\" \"),_c('content-view',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.ifShowContent),expression:\"ifShowContent\"}],attrs:{\"ifShowContent\":_vm.ifShowContent,\"navigation\":_vm.navigation,\"bookAvailable\":_vm.bookAvailable},on:{\"jumpTo\":_vm.jumpTo}}),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.ifShowContent),expression:\"ifShowContent\"}],staticClass:\"content-mask\",on:{\"click\":_vm.hideContent}})])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7faf9aba\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MenuBar.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7faf9aba\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MenuBar.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MenuBar.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MenuBar.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7faf9aba\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./MenuBar.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7faf9aba\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/MenuBar.vue\n// module id = null\n// module chunks = ","<template>\r\n<div class=\"ebook\">\r\n    <title-bar\r\n    :ifTitleAndMenuShow=\"ifTitleAndMenuShow\" @openNewEpub=\"openNewEpub\"></title-bar>\r\n    <div class=\"read-wrapper\">\r\n        <div id=\"read\"></div>\r\n        <div class=\"mask\">\r\n            <div class=\"left\" @click=\"prevPage\"></div>\r\n            <div class=\"center\" @click=\"toggleTitleAndMenu\"></div>\r\n            <div class=\"right\" @click=\"nextPage\"></div>\r\n        </div>\r\n    </div>\r\n    <menu-bar :ifTitleAndMenuShow=\"ifTitleAndMenuShow\" :fontSizeList=\"fontSizeList\" :defaultFontSize=\"defaultFontSize\" @setFontSize=\"setFontSize\" :themeList=\"themeList\" :defaultTheme=\"defaultTheme\" @setTheme=\"setTheme\" :bookAvailable=\"bookAvailable\" @onProgressChange=\"onProgressChange\" @jumpTo=\"jumpTo\" :navigation=\"navigation\" :bookProgress=\"bookProgress\" ref=\"menuBar\">\r\n    </menu-bar>\r\n</div>\r\n</template>\r\n\r\n<script>\r\n// toggleTitleAndMenu\r\nimport TitleBar from '@/components/TitleBar'\r\nimport MenuBar from '@/components/MenuBar'\r\nimport ePub from 'epubjs'\r\n\r\n\r\nconst DOWNLOAD_URL1 = '/static/book1.epub'\r\nconst DOWNLOAD_URL2 = '/static/book2.epub'\r\n\r\nexport default {\r\n    components: {\r\n        TitleBar,\r\n        MenuBar\r\n    },\r\n    data() {\r\n        return {\r\n            ifTitleAndMenuShow: false,\r\n            fontSizeList: [{\r\n                    fontSize: 12\r\n                },\r\n                {\r\n                    fontSize: 14\r\n                },\r\n                {\r\n                    fontSize: 16\r\n                },\r\n                {\r\n                    fontSize: 18\r\n                },\r\n                {\r\n                    fontSize: 20\r\n                },\r\n                {\r\n                    fontSize: 22\r\n                },\r\n                {\r\n                    fontSize: 24\r\n                }\r\n            ],\r\n            defaultFontSize: 16,\r\n            themeList: [{\r\n                    name: 'default',\r\n                    style: {\r\n                        body: {\r\n                            'color': '#000',\r\n                            'background': '#fff'\r\n                        }\r\n                    }\r\n                },\r\n                {\r\n                    name: 'eye',\r\n                    style: {\r\n                        body: {\r\n                            'color': '#000',\r\n                            'background': '#ceeaba'\r\n                        }\r\n                    }\r\n                },\r\n                {\r\n                    name: 'night',\r\n                    style: {\r\n                        body: {\r\n                            'color': '#fff',\r\n                            'background': '#000'\r\n                        }\r\n                    }\r\n                },\r\n                {\r\n                    name: 'gold',\r\n                    style: {\r\n                        body: {\r\n                            'color': '#000',\r\n                            'background': 'rgba(241, 236, 226)'\r\n                        }\r\n                    }\r\n                }\r\n            ],\r\n            defaultTheme: 0,\r\n            bookAvailable: false,\r\n            navigation: {},\r\n            bookProgress: 0,\r\n            bookSrc: DOWNLOAD_URL2\r\n        }\r\n    },\r\n    methods: {\r\n        showProgress() {\r\n            const currentLocation = this.rendition.currentLocation()\r\n            this.bookProgress = this.bookAvailable ? this.locations.percentageFromCfi(currentLocation.start.cfi) : 0\r\n            this.bookProgress = Math.round(this.bookProgress * 100)\r\n        },\r\n        //跳转到指定的链接\r\n        jumpTo(href) {\r\n            this.rendition.display(href).then(\r\n                () => {\r\n                    this.showProgress()\r\n                }\r\n            )\r\n            this.hideTitleAndMenu()\r\n        },\r\n        hideTitleAndMenu() {\r\n            this.ifTitleAndMenuShow = false\r\n            this.$refs.menuBar.hideSetting()\r\n            this.$refs.menuBar.hideContent()\r\n        },\r\n        onProgressChange(progress) {\r\n            const percentage = progress / 100\r\n            const location = percentage > 0 ? this.locations.cfiFromPercentage(percentage) : 0\r\n            this.rendition.display(location)\r\n        },\r\n        setTheme(index) {\r\n            this.themes.select(this.themeList[index].name)\r\n            this.defaultTheme = index\r\n        },\r\n        registerTheme() {\r\n            this.themeList.forEach(theme => {\r\n                this.themes.register(theme.name, theme.style)\r\n            })\r\n        },\r\n        setFontSize(fontSize) {\r\n            this.defaultFontSize = fontSize\r\n            if (this.themes) {\r\n                this.themes.fontSize(fontSize + 'px')\r\n            }\r\n        },\r\n        toggleTitleAndMenu() {\r\n            this.ifTitleAndMenuShow = !this.ifTitleAndMenuShow\r\n            if (!this.ifTitleAndMenuShow) {\r\n                this.$refs.menuBar.hideSetting()\r\n            }\r\n        },\r\n        prevPage() {\r\n            if (this.rendition) {\r\n                this.rendition.prev().then(\r\n                    () => {\r\n                        this.showProgress()\r\n                    }\r\n                )\r\n\r\n            }\r\n        },\r\n        nextPage() {\r\n            if (this.rendition) {\r\n                this.rendition.next().then(\r\n                    () => {\r\n                        this.showProgress()\r\n                    }\r\n                )\r\n            }\r\n        },\r\n        openNewEpub(bookSrc) {\r\n            var box = document.getElementById('read')\r\n            var child = document.getElementsByClassName('epub-container')\r\n            if (child[0]) {\r\n                box.removeChild(child[0]);\r\n            }\r\n            // console.log(\"delate old book\")\r\n            this.showEpub(bookSrc)\r\n        },\r\n        // 电子书的解析和渲染\r\n        showEpub(bookSrc) {\r\n            // 生成Book对象\r\n                this.book =new ePub(bookSrc, {\r\n                    restore: true\r\n                })\r\n                console.log(this.book)\r\n            this.rendition = this.book.renderTo('read', {\r\n                width: \"100vw\",\r\n                height: \"100vh\",\r\n                // 兼容iOS\r\n                method: 'default'\r\n            })\r\n            // 通过Rendtion.display渲染电子书\r\n            this.rendition.display()\r\n            // 获取Theme对象\r\n            this.themes = this.rendition.themes\r\n            // 设置默认字体\r\n            this.setFontSize(this.defaultFontSize)\r\n            // 注册主题\r\n            this.registerTheme()\r\n            // 设置默认主题\r\n            this.setTheme(this.defaultTheme)\r\n            // Book对象的钩子函数ready\r\n            this.book.ready.then(() => {\r\n                this.navigation = this.book.navigation\r\n                // 生成Locations对象\r\n                return this.book.locations.generate()\r\n            }).then(result => {\r\n                // 保存locations对象\r\n                this.locations = this.book.locations\r\n                // 标记电子书为解析完毕状态\r\n                this.bookAvailable = true\r\n            })\r\n        },\r\n\r\n        handleScroll(e) {\r\n            //如果侧栏没有展示就监听鼠标滚轮事件\r\n            if (!this.$refs.menuBar.returnISCT() && this.bookAvailable) {\r\n                e.deltaY > 0 ? this.nextPage() : this.prevPage()\r\n            }\r\n        }\r\n    },\r\n\r\n    mounted() {\r\n        this.openNewEpub(this.bookSrc)\r\n        //this.showEpub(this.src())\r\n        // 监听鼠标滚轮事件\r\n        // ie and Chrome\r\n        window.addEventListener('mousewheel', this.handleScroll, false)\r\n        // firefox\r\n        window.addEventListener(\"DOMMouseScroll\", this.handleScroll, false)\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import 'assets/styles/global';\r\n\r\n.ebook {\r\n    position: relative;\r\n    // 隐藏侧边和底部的滚动条\r\n    overflow-y: hidden;\r\n    overflow-x: hidden;\r\n\r\n    .read-wrapper {\r\n        .mask {\r\n            position: absolute;\r\n            top: 0;\r\n            left: 0;\r\n            z-index: 100;\r\n            width: 100%;\r\n            height: 100%;\r\n            display: flex;\r\n\r\n            .left {\r\n                flex: 0 0 px2rem(100);\r\n            }\r\n\r\n            .center {\r\n                flex: 1;\r\n            }\r\n\r\n            .right {\r\n                flex: 0 0 px2rem(100);\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/Ebook.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ebook\"},[_c('title-bar',{attrs:{\"ifTitleAndMenuShow\":_vm.ifTitleAndMenuShow},on:{\"openNewEpub\":_vm.openNewEpub}}),_vm._v(\" \"),_c('div',{staticClass:\"read-wrapper\"},[_c('div',{attrs:{\"id\":\"read\"}}),_vm._v(\" \"),_c('div',{staticClass:\"mask\"},[_c('div',{staticClass:\"left\",on:{\"click\":_vm.prevPage}}),_vm._v(\" \"),_c('div',{staticClass:\"center\",on:{\"click\":_vm.toggleTitleAndMenu}}),_vm._v(\" \"),_c('div',{staticClass:\"right\",on:{\"click\":_vm.nextPage}})])]),_vm._v(\" \"),_c('menu-bar',{ref:\"menuBar\",attrs:{\"ifTitleAndMenuShow\":_vm.ifTitleAndMenuShow,\"fontSizeList\":_vm.fontSizeList,\"defaultFontSize\":_vm.defaultFontSize,\"themeList\":_vm.themeList,\"defaultTheme\":_vm.defaultTheme,\"bookAvailable\":_vm.bookAvailable,\"navigation\":_vm.navigation,\"bookProgress\":_vm.bookProgress},on:{\"setFontSize\":_vm.setFontSize,\"setTheme\":_vm.setTheme,\"onProgressChange\":_vm.onProgressChange,\"jumpTo\":_vm.jumpTo}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-48cb1ce6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/Ebook.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-48cb1ce6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./Ebook.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./Ebook.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./Ebook.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-48cb1ce6\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./Ebook.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-48cb1ce6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Ebook.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\nimport Ebook from '@/Ebook'\n\nVue.use(Router)\n\nexport default new Router({\n    routes: [{\n        path: '/',\n        redirect: '/ebook'\n    },\n    {\n        path: '/ebook',\n        component: Ebook\n    }\n    ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\r\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\r\nimport Vue from 'vue'\r\nimport App from './App'\r\nimport router from './router'\r\nimport vueAxios from 'vue-axios'\r\nimport axios from 'axios'\r\nimport localForage from 'localforage'\r\n\r\nimport '@/assets/styles/icon.css'\r\nimport '@/assets/styles/global.scss'\r\n\r\nVue.use(vueAxios, axios)\r\nVue.config.productionTip = false\r\n\r\n// 声明数据库存储图书\r\nconst store = localForage.createInstance({\r\n    name: 'bookDB'\r\n})\r\n\r\nVue.prototype.store = store\r\n\r\n/* eslint-disable no-new */\r\nnew Vue({\r\n    el: '#app',\r\n    router,\r\n    components: { App },\r\n    template: '<App/>'\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}